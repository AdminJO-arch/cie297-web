<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CIE-297 | Monitoreo en Tiempo Real</title>
<link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAACqGkRkAAAArUlEQVR4Xu2XwQ2DMBBF/3Y8j2j1dIfg6x8oJ1y1Jm1kS6H8XkCw3s6r6s0QW8P7dJmQXk9f2O2x4vU2h2JcA1zO0o0b0x0JwJr8iOqzF0Xqz0p3d8a5b9w2wqzMZ9k58YyYp2c5s8l1mQdE0x5lclo6B7b+5h8Q6R1N2c4i4tKc4z7b1jKqg3IQ0o3g0GvC9v8WX8jO7i7v7J+Rr9Qy4y9hHfQ8gEHgkC5JQe2v1i0p0g4q8qS2j0wG3cS3PpH3bqQmG2wH0uYhrC3g2c0x1q3Kqz3dV2m9u6xGdQ6mZV4n6lI0mQ=="/>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<style>
:root{
  --bg:#0b1424;--card:#101b31;--soft:#12213b;--text:#e5ecff;--muted:#93a4c7;
  --ok:#22c55e;--warn:#f59e0b;--danger:#ef4444;--line:rgba(255,255,255,.08);
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font:14px/1.45 system-ui,Segoe UI,Roboto,Helvetica,Arial;color:var(--text);background:var(--bg)}
a{color:#8ab4ff;text-decoration:none}
.container{max-width:1240px;margin:24px auto;padding:16px}
.appbar{display:flex;gap:.75rem;justify-content:space-between;padding:.75rem 1rem;background:#0b1424;position:sticky;top:0;z-index:40;border-bottom:1px solid var(--line)}
.brand{display:flex;gap:.5rem;align-items:center;font-weight:700;font-size:18px}
.brand img{width:28px;height:28px;border-radius:6px}
.actions{display:flex;gap:.5rem;align-items:center}
.btn{border:1px solid var(--line);background:var(--soft);color:var(--text);padding:.5rem .8rem;border-radius:.6rem}
.btn:hover{filter:brightness(1.1)}
.btn-danger{background:#1b202b;border-color:#ff6b6b;color:#ff9aa9}
.card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:14px}
.grid{display:grid;gap:16px}
.g2{grid-template-columns:2fr 1fr}
.badge{display:inline-flex;padding:.2rem .6rem;border-radius:999px;border:1px solid var(--line);color:var(--muted);font-size:.75rem;gap:.16rem}
.badge .dot{width:.5rem;height:.5rem;border-radius:999px}
.badge.ok{border-color:var(--ok);color:var(--ok)} .badge.ok .dot{background:var(--ok)}
.badge.warn{border-color:var(--warn);color:var(--warn)} .badge.warn .dot{background:var(--warn)}
.badge.danger{border-color:var(--danger);color:var(--danger)} .badge.danger .dot{background:var(--danger)}
.row{display:flex;gap:10px;align-items:center}
.right{display:flex;justify-content:flex-end}
.control{width:100%;background:#0b1424;border:1px solid var(--line);color:var(--text);padding:.55rem .6rem;border-radius:10px;margin-top:8px}
.control:focus{outline:2px solid #3b82f6}
table{width:100%;border-collapse:separate;border-spacing:0;overflow:hidden;border-radius:10px}
th,td{padding:.6rem;border-bottom:1px solid var(--line);text-align:left;white-space:nowrap}
thead th{background:#0f1a2f;font-size:.9rem;font-weight:700}
.small{color:var(--muted);font-size:.86rem}
hr{border:none;border-top:1px solid var(--line);margin:12px 0}
/* layout */
.main{display:none}
.sidebar{display:flex;flex-direction:column;gap:16px}
.alerts{max-height:440px;overflow:auto;padding-right:4px}
.alert{background:#0e1830;border:1px solid var(--line);border-radius:12px;padding:.6rem .8rem;margin-bottom:8px}
.alert .title{font-weight:700;margin:.2rem 0}
.chips{display:flex;gap:.5rem;align-items:center}
.chip{display:inline-block;padding:.2rem .7rem;border-radius:999px;font-weight:700;border:1px solid;letter-spacing:.3px}
.chip.ok{background:#063; border-color:#187d3f; color:#bdfccf}
.chip.warn{background:#4a3b00; border-color:#a07900; color:#ffe28a}
.chip.danger{background:#4a0000; border-color:#a00000; color:#ff9a9a}
.legend{display:flex;gap:.6rem;margin-top:6px}
.legend .chip{opacity:.9}
/* modal */
dialog{border:none;background:transparent}
.modal{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:18px;min-width:420px}
.modal h3{margin:0 0 .6rem}
.hidden{display:none}
.footer-note{opacity:.6;font-size:.85rem;text-align:center;margin-top:20px}
</style>
</head>
<body>
<header class="appbar">
  <div class="brand"><img id="logo" alt="logo"/><span>CIE-297 | Monitoreo en Tiempo Real</span></div>
  <div class="actions">
    <button id="btnLoginOpen" class="btn">Iniciar sesión</button>
    <button id="btnLogout" class="btn hidden">Cerrar sesión</button>
  </div>
</header>

<div class="container">
  <!-- acceso -->
  <section id="access" class="card">
    <h3>Acceso</h3>
    <div class="grid" style="grid-template-columns: 1fr 1fr;">
      <div>
        <h4 class="small">Registro</h4>
        <div class="row">
          <select id="grado" class="control" title="Grado">
            <option value="" disabled selected>Grado</option>
            <option>GRAL</option><option>CNL</option><option>TCNL</option>
            <option>MY</option><option>CAP</option><option>TNTE</option>
            <option>SBTTE</option><option>SGTO</option><option>CBO</option>
          </select>
          <input id="esp" class="control" placeholder="Especialidad"/>
        </div>
        <div class="row">
          <input id="nom" class="control" placeholder="Nombres"/>
          <input id="ape" class="control" placeholder="Apellidos"/>
        </div>
        <input id="mailReg" class="control" placeholder="Email"/>
        <input id="pwdReg" type="password" class="control" placeholder="Contraseña"/>
        <button id="btnReg" class="btn" style="margin-top:8px">Crear cuenta</button>
      </div>
      <div>
        <h4 class="small">Iniciar sesión</h4>
        <button class="btn" id="btnLoginOpen2">Iniciar sesión</button>
      </div>
    </div>
  </section>

  <!-- principal -->
  <section id="main" class="main grid g2">
    <div class="grid">
      <div class="card">
        <h3>Área Operativa</h3>
        <div id="map" style="height:340px;border:1px dashed #2b3753;border-radius:12px"></div>
        <div class="legend">
          <span class="chip ok">BAJA</span>
          <span class="chip warn">MEDIA</span>
          <span class="chip danger">ALTA</span>
        </div>
      </div>

      <div class="card">
        <h3>Misiones / Reportes rápidos</h3>
        <div class="row">
          <div style="flex:1">
            <label class="small">Tipo</label>
            <select id="repTipo" class="control">
              <option>Rebasado</option><option>Operativo en zona</option><option>Incautación de autos</option>
              <option>Cambio de locación</option><option>Secuestro</option><option>Otros</option>
            </select>
          </div>
          <div style="width:220px">
            <label class="small">Nivel</label>
            <select id="repNivel" class="control">
              <option>BAJA</option><option>MEDIA</option><option>ALTA</option>
            </select>
          </div>
          <div class="right"><button class="btn" id="btnGeo">Usar ubicación</button></div>
        </div>

        <div class="row">
          <div style="flex:1">
            <label class="small">Mensaje</label>
            <select id="repMsg" class="control">
              <option>PETA</option><option>LAMBO</option><option>TRICICLO</option><option>PATINETA</option>
              <option>FRUTAS</option><option>MOTOBOMBA</option><option>CUCHARA</option><option>TENEDOR</option>
              <option>CHISGUETE</option><option>PINTURA ROJA</option><option>PINTURA NARANJA</option>
              <option>PINTURA AZUL</option><option>PINTURA VERDE</option><option>PINTURA AMARILLA</option>
              <option>PINTURA CAFE</option><option>YENAS</option><option>LOBOS</option><option>LIEBRES</option>
              <option>JUGANDO</option><option>RIO PILCOMAYO</option><option>LAGUNA ESCOBAR</option>
              <option>MALLASA</option><option>CIELO NUBLADO</option><option>HOTEL RADISSON</option>
              <option>HERRADURA</option><option>FEDERAL</option><option>CAIMAN</option><option>LAGARTOS</option>
            </select>
          </div>
          <div style="width:160px"><label class="small">lat</label><input id="lat" class="control" placeholder="lat"></div>
          <div style="width:160px"><label class="small">lng</label><input id="lng" class="control" placeholder="lng"></div>
        </div>
        <label class="small">Descripción</label>
        <textarea id="repDesc" rows="4" class="control" placeholder="Detallar lo ocurrido..."></textarea>
        <div class="right"><button id="btnEnviar" class="btn">Enviar</button></div>
      </div>
    </div>

    <div class="sidebar">
      <div class="card">
        <h3>Órganos de búsqueda</h3>
        <div id="units"></div>
      </div>

      <div class="card">
        <div class="row" style="justify-content:space-between;align-items:center">
          <h3>Alertas</h3>
          <div class="row">
            <button id="btnVerTodas" class="btn small">Ver todas</button>
            <button id="btnPDF" class="btn small">Exportar PDF</button>
          </div>
        </div>
        <div id="alerts" class="alerts"></div>
      </div>

      <div id="adminExtras" class="card hidden">
        <h3>Administración</h3>
        <h4 class="small">Bitácora de accesos</h4>
        <table id="tblAccess"><thead><tr><th>Fecha</th><th>Email</th><th>IP</th><th>Acción</th></tr></thead><tbody></tbody></table>
        <hr/>
        <h4 class="small">Control de cuentas</h4>
        <table id="tblUsers"><thead><tr><th>Email</th><th>Estado</th><th></th></tr></thead><tbody></tbody></table>
      </div>
    </div>
  </section>

  <p class="footer-note">© CIE-297 — Prototipo académico</p>
</div>

<!-- modal de login -->
<dialog id="dlgLogin">
  <div class="modal">
    <h3>Iniciar sesión</h3>
    <input id="mail" class="control" placeholder="Email"/>
    <input id="pwd" class="control" type="password" placeholder="Contraseña"/>
    <div class="right" style="gap:.5rem">
      <button class="btn" id="btnEnter">Entrar</button>
      <button class="btn" onclick="document.getElementById('dlgLogin').close()">Cerrar</button>
    </div>
  </div>
</dialog>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
// ---------- assets (logo) ----------
const logoEl=document.getElementById('logo');
logoEl.src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAM1BMVEUAAAD///+ZmZnk5OSXl5e/v7+2traPj48tLS3CwsKjo6OcnJx7e3uGhoawsrKJiYl8fHxKk0q7AAABUklEQVR4nO3XwQ2DMBQF0QJc//9zXb3Sx1yWw3Mo9xE1y8i3lqkqO0i7Hq7q1V8WlmWwQAAAAAAAAAAwN0r6a1l2qYwq0Z9ZzE8k4i0e3H8cI2g4zG8iQ1mJ4H9E3f3AD2yK2S8b4w6gT4mHnqzq8w7H1vD2r7wz7nL0vH8k4bq2kV3a6q1Sgq2Q6Vg8w9m4m3oWz9rG8p5m2d7A0r9rQGkLw3s2oOkvJ4n1D1lQ2v7y5t0dH1v3gS2v9X7Z1m3QW7eZ0b9p7aXKx2+1KZr5t0AAAAAAAAAAMCH8g8f3c3Xf1vm0gAAAABJRU5ErkJggg==';

// ---------- helpers & state ----------
const API = (window.CIE297_API || '').replace(/\/$/, '');
const Q = s => document.querySelector(s);
const state = {
  user:null, admin:false,
  alerts:[], units:[],
  users: JSON.parse(localStorage.getItem('users')||'[]'),
  access: JSON.parse(localStorage.getItem('access')||'[]')
};

function saveUsers(){localStorage.setItem('users',JSON.stringify(state.users));}
function saveAccess(){localStorage.setItem('access',JSON.stringify(state.access));}
function now(){return new Date().toISOString();}
function random(a){return a[Math.floor(Math.random()*a.length)];}

// ---------- login / register ----------
function openLogin(){dlgLogin.showModal();}
Q('#btnLoginOpen').onclick=openLogin; Q('#btnLoginOpen2').onclick=openLogin;

Q('#btnEnter').onclick=async()=>{
  const email=Q('#mail').value.trim().toLowerCase();
  const pass=Q('#pwd').value.trim();
  // simple client auth (admin local)
  if(email==='admin@cie297.mil' && pass==='Admin123!'){
    state.user={email,grado:'TCNL',esp:'Administrador',nom:'Administrador',ape:'CIE-297'};
    state.admin=true;
    afterLogin();
    dlgLogin.close(); return;
  }
  // normal user - stored locally
  const u=state.users.find(u=>u.email===email && u.pwd===pass);
  if(!u){alert('Error login');return;}
  if(u.blocked){alert('Acceso bloqueado');return;}
  state.user=u; state.admin=false; afterLogin(); dlgLogin.close();
};

Q('#btnLogout').onclick=()=>{state.user=null; state.admin=false; Q('#main').style.display='none'; Q('#access').style.display='block'; Q('#btnLoginOpen').classList.remove('hidden'); Q('#btnLogout').classList.add('hidden');};

Q('#btnReg').onclick=()=>{
  const email=Q('#mailReg').value.trim().toLowerCase();
  if(!email.includes('@')){alert('Email inválido');return;}
  if(state.users.find(u=>u.email===email)){alert('Ya existe');return;}
  const u={email, pwd:Q('#pwdReg').value.trim(), grado:Q('#grado').value, esp:Q('#esp').value, nom:Q('#nom').value, ape:Q('#ape').value, blocked:false};
  state.users.push(u); saveUsers(); alert('Usuario creado. Ahora pulsa "Iniciar sesión".');
};

function afterLogin(){
  state.access.push({ts:now(), email:state.user.email, ip:'public', action:'LOGIN'}); saveAccess();
  Q('#access').style.display='none'; Q('#main').style.display='grid';
  Q('#btnLoginOpen').classList.add('hidden'); Q('#btnLogout').classList.remove('hidden');
  Q('#adminExtras').classList.toggle('hidden',!state.admin);
  renderUsers(); renderAccess();
  initMap(); renderUnits(); startSim();
}

// ---------- map ----------
let map, marker;
function initMap(){
  if(map){return;}
  map=L.map('map').setView([-16.5,-68.15],6);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:18,attribution:'© OpenStreetMap'}).addTo(map);
}

// ---------- units ----------
const IND_LUGAR=['HAWAI','CUBA','BEIRUT','LOMAS'];
const IND_CANAL=['BLANCO','ROJO','AZUL','AMARILLO','VERDE','ROSADO','GUINDO','CARMESI','NEGRO','KAKI','MARRON','TURQUESA','CELESTE','NARANJA','PURPURA','GRIS'];
const IND_LLAMADA=['ZEUS','ARIES','VIRGO','SAGITARIO','LIBRA','CAPRICORNIO','GEMINIS','ESCORPIO','TAURO','CANCER','LEO','PISCIS'];

function renderUnits(){
  // four demo units with indicative names
  state.units=[
    {id:'A1', name:'ZEUS', grupo:'ALFA', canal:'BLANCO', fix:now(), lat:-16.5, lng:-68.15, estado:'EN MISIÓN'},
    {id:'B7', name:'ARIES', grupo:'BRAVO', canal:'ROJO', fix:now(), lat:-16.3, lng:-67.95, estado:'EN ESPERA'},
    {id:'C3', name:'ESCORPIO', grupo:'CHARLIE', canal:'AZUL', fix:now(), lat:-16.47, lng:-68.12, estado:'SIN SEÑAL'},
    {id:'B5', name:'LEO', grupo:'ALFA', canal:'VERDE', fix:now(), lat:-16.53, lng:-68.18, estado:'EN MISIÓN'},
  ];
  const box=Q('#units'); box.innerHTML='';
  state.units.forEach(u=>{
    const div=document.createElement('div'); div.className='alert';
    div.innerHTML=`<div class="row" style="justify-content:space-between">
      <div><strong>${u.name}</strong><div class="small">${u.grupo} • Fix ${new Date(u.fix).toLocaleString()}<br/>Canal ${u.canal} • ${u.lat.toFixed(4)}, ${u.lng.toFixed(4)}</div></div>
      <div class="small" style="align-self:center">${u.estado}</div></div>`;
    box.appendChild(div);
  });
}

// ---------- alertas ----------
const niveles=['BAJA','MEDIA','ALTA'];
const tipos=['Rebasado','Operativo en zona','Incautación de autos','Cambio de locación','Secuestro','Otros'];
function nivelChip(n){return `<span class="chip ${n==='ALTA'?'danger':n==='MEDIA'?'warn':'ok'}">${n}</span>`}

function pushAlert(a){
  state.alerts.unshift(a);
  if(state.alerts.length>200)state.alerts.pop();
  renderAlerts();
}

function renderAlerts(){
  const el=Q('#alerts'); el.innerHTML='';
  state.alerts.slice(0,50).forEach(a=>{
    const d=document.createElement('div'); d.className='alert';
    d.innerHTML=`<div class="chips">${nivelChip(a.nivel)} <span class="small">${new Date(a.ts).toLocaleString()}</span> <span class="badge"><span class="dot"></span>${a.tipo}</span></div>
      <div class="title">${a.agente} — ${a.msg}</div>
      <div class="small">${a.lat.toFixed(4)}, ${a.lng.toFixed(4)}</div>`;
    el.appendChild(d);
  });
}

let simInt=null;
function startSim(){
  if(simInt)clearInterval(simInt);
  simInt=setInterval(()=>{
    const u=random(state.units);
    const a={id:Math.random().toString(36).slice(2,7), ts:now(), nivel:random(niveles), tipo:random(tipos), agente:u.name, msg:random(['INCIDENTE','OBSERVACIÓN','INTERFERENCIA RF','GEOCERCA VIOLADA']), lat:u.lat+(Math.random()-.5)/10, lng:u.lng+(Math.random()-.5)/10};
    pushAlert(a);
  },5000);
}

// form actions
Q('#btnGeo').onclick=()=>{navigator.geolocation?.getCurrentPosition(p=>{Q('#lat').value=p.coords.latitude.toFixed(6);Q('#lng').value=p.coords.longitude.toFixed(6);},()=>alert('Sin GPS'));};

Q('#btnEnviar').onclick=()=>{
  if(!state.user){alert('Inicie sesión');return;}
  const a={id:Math.random().toString(36).slice(2,7), ts:now(), nivel:Q('#repNivel').value, tipo:Q('#repTipo').value, agente:random(IND_LLAMADA), msg:Q('#repMsg').value, lat:parseFloat(Q('#lat').value||-16.5), lng:parseFloat(Q('#lng').value||-68.15), desc:Q('#repDesc').value, user:state.user.email};
  pushAlert(a);
  alert('Reporte enviado (local)');
};

// ---------- Admin tables ----------
function renderUsers(){
  const tb=Q('#tblUsers tbody'); tb.innerHTML='';
  state.users.forEach(u=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${u.email}</td><td>${u.blocked?'BLOQUEADO':'Activo'}</td><td><button class="btn small">${u.blocked?'Desbloquear':'Bloquear'}</button></td>`;
    tr.querySelector('button').onclick=()=>{u.blocked=!u.blocked; saveUsers(); renderUsers();};
    tb.appendChild(tr);
  });
}
function renderAccess(){
  const tb=Q('#tblAccess tbody'); tb.innerHTML='';
  state.access.slice().reverse().slice(0,20).forEach(a=>{
    const tr=document.createElement('tr'); tr.innerHTML=`<td>${new Date(a.ts).toLocaleString()}</td><td>${a.email}</td><td>${a.ip}</td><td>${a.action}</td>`; tb.appendChild(tr);
  });
}

// ---------- Export PDF ----------
Q('#btnPDF').onclick=()=>{
  const rows = state.alerts.slice(0,50);
  const win = window.open('','_blank');
  const logo = logoEl.src;
  let html = `<!doctype html><meta charset="utf-8"><title>Reporte de Alertas</title>
  <style>body{font-family:Arial;margin:24px}h1{font-size:18px}table{border-collapse:collapse;width:100%}
  th,td{border:1px solid #146aa2;padding:6px 8px} thead th{background:#156ea6;color:#fff}</style>
  <div style="display:flex;align-items:center;gap:10px"><img src="${logo}" style="width:42px;height:42px"/><h1>CIE-297 – Reporte de Alertas</h1></div>
  <div>${new Date().toLocaleString()}</div><table><thead><tr><th>ID</th><th>Fecha</th><th>Nivel</th><th>Título</th><th>Agente</th></tr></thead><tbody>`;
  rows.forEach(r=>{ html += `<tr><td>${r.id}</td><td>${new Date(r.ts).toLocaleString()}</td><td>${r.nivel}</td><td>${r.tipo} — ${r.msg}</td><td>${r.agente}</td></tr>`; });
  html += `</tbody></table>`;
  win.document.write(html); win.document.close();
};

// ---------- Ver todas (por día) ----------
Q('#btnVerTodas').onclick=()=>{
  const porDia={};
  state.alerts.forEach(a=>{const d=new Date(a.ts).toISOString().slice(0,10); (porDia[d]||(porDia[d]=[])).push(a);});
  const w=window.open('','_blank');
  let html='<!doctype html><meta charset="utf-8"><title>Alertas por día</title><style>body{font-family:Arial;margin:20px}h2{border-bottom:1px solid #ccc}</style>';
  Object.keys(porDia).sort().reverse().forEach(d=>{
    html+=`<h2>${d}</h2><ul>`+porDia[d].map(a=>`<li>${new Date(a.ts).toLocaleTimeString()} — ${a.nivel} — ${a.agente} — ${a.tipo} ${a.msg}</li>`).join('')+`</ul>`;
  });
  w.document.write(html); w.document.close();
};

// start hidden
Q('#access').style.display='block';
</script>

<script>
(function(){ 
  try {
    const t = Array.from(document.querySelectorAll('h1,h2,h3,h4')).find(el => (el.textContent||'').trim().toLowerCase() === 'órganos de búsqueda');
    if (t) {
      // Find container body
      let box = t.closest('.card') || t.parentElement;
      let body = box && (box.querySelector('.card-body') || box.querySelector('.body') || t.nextElementSibling) || t.parentElement;
      if (body) {
        body.innerHTML = `
          <div id="orgs-dropdowns" class="grid" style="display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:.75rem;">
            <div>
              <label style="display:block;margin-bottom:.35rem;opacity:.85;">Código indicativo del lugar</label>
              <select id="orgLugar" class="control">
                <option>HAWAI</option>
                <option>CUBA</option>
                <option>BEIRUT</option>
                <option>LOMAS</option>
              </select>
            </div>
            <div>
              <label style="display:block;margin-bottom:.35rem;opacity:.85;">Código indicativo de canales</label>
              <select id="orgCanal" class="control">
                <option>BLANCO</option>
                <option>ROJO</option>
                <option>AZUL</option>
                <option>AMARILLO</option>
                <option>VERDE</option>
                <option>ROSADO</option>
                <option>GUINDO</option>
                <option>CARMESI</option>
                <option>NEGRO</option>
                <option>KAKI</option>
                <option>MARRON</option>
                <option>TURQUESA</option>
                <option>CELESTE</option>
                <option>NARANJA</option>
                <option>PURPURA</option>
                <option>GRIS</option>
              </select>
            </div>
            <div>
              <label style="display:block;margin-bottom:.35rem;opacity:.85;">Código indicativo de llamadas</label>
              <select id="orgLlamada" class="control">
                <option>ZEUS</option><option>ARIES</option><option>VIRGO</option><option>SAGITARIO</option>
                <option>LIBRA</option><option>CAPRICORNIO</option><option>GEMINIS</option><option>ESCORPIO</option>
                <option>TAURO</option><option>CANCER</option><option>LEO</option><option>PISCIS</option>
              </select>
            </div>
          </div>`;
      }
    }
  } catch(e) { console.warn('Org section replace failed', e); }
})();
</script>

</body>
</html>
